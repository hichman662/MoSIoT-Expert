<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button text="{{ 'DEVICE.return' | translate }}" defaultHref="tabs/tab3/device" icon="chevron-back-outline"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button></ion-button>
    </ion-buttons>
  </ion-toolbar>

  <!-- Segment Tabs -->
  <ion-segment [(ngModel)]="segmentModel" color="tertiary" scrollable="true" mode="md" class="segment-tabs" lines="none">
    <ion-segment-button value="details">
      <ion-icon name="receipt-outline"></ion-icon>
      <ion-label>{{ 'DEVICE.device' | translate }}</ion-label>
    </ion-segment-button>
    <ion-segment-button value="template">
      <ion-icon name="flash-outline"></ion-icon>
      <ion-label>{{ 'DEVICE.deviceTemplate' | translate }}</ion-label>
    </ion-segment-button>
  </ion-segment>
</ion-header>

<ion-content>
  <!-- Device Icon & Info -->
  <div class="patient-header">
    <ion-img src="assets/icon/devicesW.png" class="patient-icon"></ion-img>
    <div class="patient-info">
      <h2 *ngIf="deviceData">{{ deviceName }}</h2>
      <p *ngIf="deviceDescrip">{{ deviceDescrip }}</p>
    </div>
  </div>

  <!-- Segment: Device Details -->
  <div class="segment" *ngIf="segmentModel === 'details'">
    <ion-spinner class="spin" *ngIf="!load" name="bubbles"></ion-spinner>

    <ion-list *ngIf="load" class="animate__animated animate__slideInUp animate__slow">
      <ion-item lines="full">
        <ion-icon class="segmentIcon" slot="start" name="logo-apple"></ion-icon>
        <ion-label>
          <h3>{{ 'DEVICE.trademark' | translate }}</h3>
          <p>{{ deviceData?.trademark }}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="full">
        <ion-icon class="segmentIcon" slot="start" name="hardware-chip-outline"></ion-icon>
        <ion-label>
          <h3>{{ 'DEVICE.firmVersion' | translate }}</h3>
          <p>{{ deviceData?.firmVersion }}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="full">
        <ion-icon class="segmentIcon" slot="start" name="barcode-outline"></ion-icon>
        <ion-label>
          <h3>{{ 'DEVICE.serialNumber' | translate }}</h3>
          <p>{{ deviceData?.serialNumber }}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="full">
        <ion-icon class="segmentIcon" slot="start" name="pricetag-outline"></ion-icon>
        <ion-label>
          <h3>{{ 'DEVICE.tag' | translate }}</h3>
          <p>{{ deviceData?.tag }}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="full">
        <ion-icon class="segmentIcon" slot="start" name="power-outline"></ion-icon>
        <ion-label>
          <h3>{{ 'DEVICE.deviceSwitch' | translate }}</h3>
          <p>{{ deviceData?.deviceSwitch ? ('DEVICE.on' | translate) : ('DEVICE.off' | translate) }}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="full">
        <ion-icon class="segmentIcon" slot="start" name="invert-mode-outline"></ion-icon>
        <ion-label>
          <h3>{{ 'DEVICE.isSimulated' | translate }}</h3>
          <p>{{ deviceData?.isSimulated ? ('DEVICE.yes' | translate) : ('DEVICE.no' | translate) }}</p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>

  <!-- Segment: Device Template -->
  <div class="segment" *ngIf="segmentModel === 'template'">
    <app-device-template></app-device-template>
  </div>
</ion-content>
